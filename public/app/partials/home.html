<data ng-if='vm.auth[0]' ng-init='vm.openauth()'></data>
<input ng-model="vm.spotifySearch" placeholder="Search All" type="text">
<button name="button" ng-click='vm.searchAll(vm.spotifySearch)'>SEARCH ALL</button>

<br>
<button ng-click="vm.newPlaylist()">New PLaylist</button>
<button ng-click="vm.twitterfetch()">Fetch Tweets</button>

</br>
<div class="center-align" ng-if="trackID[0] !== 'hello'">
<iframe allowtransparency='true' frameborder='0' height='680' src="{{vm.trackID[0]}}" width='600'></iframe>
</div>

<div ng-if='vm.tracks.length > 1'>
<div class="row">
  <div class="col ">
    <div class="card #212121 grey darken-4">
      <div class="card-content white-text">
        <span class="card-title">Card Title</span>

        <table class="bordered">
          <thead>
            <tr >
              <div class="row">
                <div class="col s1">
                  <p>More</p>
                </div>
                <div class="col s4">
                  <p>Song Name</p>
                </div>
                <div class="col s3">
                  <p>Artist</p>
                </div>
                <div class="col s3">
                  <p>Album</p>
                </div>
                <div class="col s1">
                  <p>Score</p>
                </div>
              </div>
            </tr>
          </thead>

          <tbody>
            <tr ng-repeat="track in vm.tracks">
              <td>
                <div class="row" ng-click='show = !show'>
                  <div class="col s1">
                    <p>more button</p>
                  </div>
                  <div class="col s4">
                    <p>{{track.name}}</p>
                  </div>
                  <div class="col s3">
                    <p>{{track.artists}}</p>
                  </div>
                  <div class="col s3">
                    <p>{{track.album}}</p>
                  </div>
                  <div class="col s1">
                    <p>{{track.score}}</p>
                  </div>
                </div>
                <div ng-show='show'>
                  <div class="row">
                    <div class="col s1">
                      <p>Change Song</p>
                    </div>
                    <div class="col s4">
                      <p>Song Name</p>
                    </div>
                    <div class="col s4">
                      <p>Artits</p>
                    </div>
                    <div class="col s3">
                      <p>Album</p>
                    </div>
                  </div>
                  <div class="row" ng-repeat='subtrack in track.subtracks'>
                    <div class="col s3">
                      <button class='material-icons' ng-click='vm.changeSong(track, subtrack)'>playlist_add</button>
                    </div>
                    <div class="col s3">
                      <p>{{subtrack.name}}</p>
                    </div>
                    <div class="col s3">
                      <p>{{subtrack.artists}}</p>
                    </div>
                    <div class="col s3">
                      <p>{{subtrack.album}}</p>
                    </div>
                  </div>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

    </div>
  </div>
</div>
</div>

 <!-- Modal Structure -->
 <div id="modal1" class="modal">
   <div class="modal-content">
     <h4>Authorize Twitter and Spotify</h4>
     <p>Sign Into Spotify</p>
     <button class="waves-effect waves-light btn modal-trigger" ng-click='vm.spotifyAuth()'>Sign In to Spotify</button>

     <p>Sign Into Twitter</p>
     <button class="waves-effect waves-light btn modal-trigger" ng-click='vm.twitterAuth()'>Sign In to Twitter</button>
   </div>
   <div class="modal-footer">
     <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Close</a>
   </div>
 </div>
