<data ng-if='vm.auth[0]' ng-init='vm.openauth()'></data>
<input ng-model="vm.spotifySearch" placeholder="Search All" type="text">
<button name="button" ng-click='vm.searchAll(vm.spotifySearch)'>SEARCH ALL</button>

<br>
<button ng-click="vm.newPlaylist()">New PLaylist</button>
<button ng-click="vm.twitterfetch()">Fetch Tweets</button>

</br>
<div class="center-align" ng-if="trackID[0] !== 'hello'">
<iframe allowtransparency='true' frameborder='0' height='680' src="{{vm.trackID[0]}}" width='600'></iframe>
</div>

<div ng-if='vm.tracks.length > 1'>
<div class="row">
  <div class="col ">
    <div class="card #212121 grey darken-4">
      <div class="card-content white-text">
        <span class="card-title">Playlist</span>

        <table class="bordered">
          <thead>
            <tr>
              <div class="row">
                <div class="col s1">
                  <p>&nbsp</p>
                </div>
                <div class="col s4">
                  <p>Song Name</p>
                </div>
                <div class="col s2">
                  <p>Artist</p>
                </div>
                <div class="col s3">
                  <p>Album</p>
                </div>
                <div class="col s2">
                  <p>Score</p>
                </div>
              </div>
            </tr>
          </thead>

          <tbody>
            <tr ng-repeat="track in vm.tracks">
              <td>
                <div class="row valign-wrapper">
                  <div class="col s1 valign">
                    <a class="btn-floating btn-medium waves-effect waves-light #00e676 green accent-3" ng-click='show = !show'>
                      <i class='material-icons'>list</i>
                    </a>
                  </div>
                  <div class="col s4 valign">
                    <p>{{track.name}}</p>
                  </div>
                  <div class="col s2 valign">
                    <p>{{track.artists}}</p>
                  </div>
                  <div class="col s3 valign">
                    <p>{{track.album}}</p>
                  </div>
                  <div class="col s2 valign-wrapper">
                    <div class="row valign">
                      <div class="col s2 center-align">
                        {{track.score}}
                      </div>
                      <div class="col s10">
                        <a class="btn-floating btn waves-effect waves-light #212121 grey darken-4">
                          <i class="fa fa-arrow-up"></i>
                        </a>
                        <a class="btn-floating btn waves-effect waves-light #212121 grey darken-4">
                          <i class="fa fa-arrow-down"></i>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
                <div ng-show='show'>
                  <div class="card">
                    <div class="card-content #424242 grey darken-3">
                      <table>
                        <thead>
                          <tr>
                            <td>&nbsp</td>
                            <td>Song Name</td>
                            <td>Artists</td>
                            <td>Album</td>
                          </tr>
                        </thead>

                        <tbody>
                          <tr class="row" ng-repeat='subtrack in track.subtracks'>
                            <td>
                              <a class="btn-floating btn-small waves-effect waves-light #00e676 green accent-3" ng-click='vm.changeSong(track, subtrack)'>
                                <i class='material-icons'>playlist_add</i>
                              </a>
                            </td>
                            <td>{{subtrack.name}}</td>
                            <td>{{subtrack.artists}}</td>
                            <td>{{subtrack.album}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

    </div>
  </div>
</div>
</div>

 <!-- Modal Structure -->
 <div id="modal1" class="modal">
   <div class="modal-content">
     <h4>Authorize Twitter and Spotify</h4>
     <p>Sign Into Spotify</p>
     <button class="waves-effect waves-light btn modal-trigger" ng-click='vm.spotifyAuth()'>Sign In to Spotify</button>

     <p>Sign Into Twitter</p>
     <button class="waves-effect waves-light btn modal-trigger" ng-click='vm.twitterAuth()'>Sign In to Twitter</button>
   </div>
   <div class="modal-footer">
     <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Close</a>
   </div>
 </div>
